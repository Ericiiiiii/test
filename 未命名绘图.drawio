<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36" version="26.0.13">
  <diagram name="第 1 页" id="ZVLj4iOac9WPwyHm0ckP">
    <mxGraphModel dx="4877" dy="1977" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="KKNS8De5CxTKTrktDygs-343" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="-3240" y="-570" width="3710" height="1600" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-311" value="" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;strokeColor=default;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="-1710" y="-80" width="360" height="700" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-330" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-331" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-330">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-328" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="70" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-329" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-328">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-326" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="140" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-327" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-326">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-324" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="210" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-325" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-324">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-312" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="280" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-313" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-312">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-314" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="350" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-315" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-314">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-316" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="420" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-317" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-316">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-318" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="490" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-319" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-318">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-320" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="560" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-321" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-320">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-349" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-311">
          <mxGeometry y="630" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-350" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="KKNS8De5CxTKTrktDygs-349">
          <mxGeometry width="360" height="70" as="geometry">
            <mxRectangle width="360" height="70" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-255" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=default;align=center;verticalAlign=top;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="-2980" y="1130" width="1680" height="960" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-10" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1930" y="85" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-12" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-10">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-6" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-12">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-8" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-12">
          <mxGeometry x="90" y="-10" width="100" height="10" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-13" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1440" y="670" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-14" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-13">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-15" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-14">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-16" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-14">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-32" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-16" target="KKNS8De5CxTKTrktDygs-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1690" y="680" as="sourcePoint" />
            <mxPoint x="1740" y="630" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-33" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="2481" y="730" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-34" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-33">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-35" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-34">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-36" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-34">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-42" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-373" target="KKNS8De5CxTKTrktDygs-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2080" y="695" as="sourcePoint" />
            <mxPoint x="1907" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-44" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-36" target="KKNS8De5CxTKTrktDygs-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2037" y="540" as="sourcePoint" />
            <mxPoint x="2087" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-66" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1000" y="1260" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-67" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-66">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-68" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-67">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-69" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-67">
          <mxGeometry x="90" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-74" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-369" target="KKNS8De5CxTKTrktDygs-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="815" y="1694" as="sourcePoint" />
            <mxPoint x="1180" y="1580" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-79" value="" style="group;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1000" y="1694" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-80" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-79">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-81" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-80">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-82" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-80">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-83" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-81" target="KKNS8De5CxTKTrktDygs-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1130" y="1740" as="sourcePoint" />
            <mxPoint x="1000" y="1550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-84" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-176" target="KKNS8De5CxTKTrktDygs-68">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1465" y="1694" as="sourcePoint" />
            <mxPoint x="1180" y="1690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-85" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-69" target="KKNS8De5CxTKTrktDygs-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="1259" as="sourcePoint" />
            <mxPoint x="910" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-86" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="2013" y="1290" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-87" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-86">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-88" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-87">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-89" value="&lt;span style=&quot;font-size: 17px;&quot;&gt;节点&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-87">
          <mxGeometry x="90" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-90" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="-310" y="1754" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-91" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-90">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-93" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-91">
          <mxGeometry x="2110" y="-60" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-94" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-92" target="KKNS8De5CxTKTrktDygs-88">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2280" y="1650" as="sourcePoint" />
            <mxPoint x="2330" y="1600" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-95" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="2340" y="1694" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-96" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-95">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-97" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-96">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-98" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-96">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-99" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="2013" y="1694" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-100" value="" style="group" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-99">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-101" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-100">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-102" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-100">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-103" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-101" target="KKNS8De5CxTKTrktDygs-88">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2280" y="1760" as="sourcePoint" />
            <mxPoint x="2150" y="1570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-104" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-98" target="KKNS8De5CxTKTrktDygs-88">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2280" y="1760" as="sourcePoint" />
            <mxPoint x="2330" y="1710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-105" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.816;entryY=0.99;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-89" target="KKNS8De5CxTKTrktDygs-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1710" y="1250" as="sourcePoint" />
            <mxPoint x="980" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-173" value="" style="group;labelBackgroundColor=none;textShadow=0;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1317" y="1694" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-174" value="" style="group;labelBackgroundColor=light-dark(#ffffff, #ededed);" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-173">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-175" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-174">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-176" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-174">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-181" value="&lt;font style=&quot;font-size: 23px;&quot;&gt;子设备节点构成&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=3;container=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="-1605" y="-65" width="170" height="30" as="geometry">
            <mxRectangle x="-1600" y="455" width="150" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-197" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=4;spacingRight=4;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1210" y="180" width="20" height="14" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-198" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;自身基本信息&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1605" y="10" width="135" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-200" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;下属节点注册信息列表&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1590" y="360" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-203" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;与直连设备read&amp;amp;write&amp;nbsp; rawdata接口&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1635" y="150" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-205" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;接收直连节点up&amp;amp;down数据缓冲区&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1680" y="205" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-210" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.889;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-328" target="KKNS8De5CxTKTrktDygs-216">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1327.44" y="143.03999999999996" as="sourcePoint" />
            <mxPoint x="-1270" y="60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-211" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t moduleid;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 通讯id&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 超时时间,单位ms&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t last_handtime;&amp;nbsp; &amp;nbsp;// 上次握手时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t master_moduleid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; enum ExModelStatusEnum statu;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 状态&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint8_t layer;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 通讯层数，执行端为0，然后逐层累加&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint8_t com_index;&amp;nbsp; &amp;nbsp; &amp;nbsp;// 缓存区序号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; Module_state_e state; // 节点状态&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;} Module_Node_t;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" y="260" width="340" height="200" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-212" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=0.003;entryY=0.443;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-316" target="KKNS8De5CxTKTrktDygs-211">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1330" y="320" as="sourcePoint" />
            <mxPoint x="-1120" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-214" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;typedef struct Ex_FunctionNode&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; sys_mutex_t lock;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint16_t cmd;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// cmd&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint16_t ID_count;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 订阅的应用数&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t moduleid[CMD_MAX_SUB_COUNT];&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 订阅方的通讯id&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; enum ExMsgModeEnum mode[CMD_MAX_SUB_COUNT]; // 模式&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint16_t frequency[CMD_MAX_SUB_COUNT];&amp;nbsp; &amp;nbsp; &amp;nbsp; // 频率&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint16_t count[CMD_MAX_SUB_COUNT];&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 次数&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint32_t lasttime[CMD_MAX_SUB_COUNT];&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上次触发时间&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; enum ExMsgChecksumEnum checksum;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 校验模式&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void (*function)(Ex_Api_CmdRep_t *);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 回调函数&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;} Ex_FunctionNode_t;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" width="400" height="210" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-215" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=-0.007;entryY=0.397;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.012;exitY=0.659;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-314" target="KKNS8De5CxTKTrktDygs-214">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1330" y="280" as="sourcePoint" />
            <mxPoint x="-1410" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-216" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" y="-220" width="280" height="140" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-218" value="&lt;div style=&quot;background-color: rgb(31, 31, 31); line-height: 19px; color: rgb(204, 204, 204);&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; 传入发送给上层节点的发送指针和用于接收上层rawdata的缓冲区&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint8_t} *rc_cache &amp;nbsp; &amp;nbsp; &amp;nbsp; 接收缓存区&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint16_t} rc_cache_len &amp;nbsp; 接收缓存区长度&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint16_t} send_data_func &amp;nbsp; 给父节点的发送接口&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;Ex_Api_Uplink_cache_Init&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;rc_cache&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;rc_cache_len&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt; (&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;send_data_func)(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;data, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint32_t&lt;/span&gt; len));&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2925" y="60" width="1020" height="170" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-221" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; 传入发送给下层节点的发送指针和用于接收下层rawdata的缓冲区&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint8_t} devicenum 下属设备编号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint8_t} *cache 缓存区&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint16_t} cache_len 缓存区的最大长度&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint16_t} send_data_func &amp;nbsp; 给父节点的发送接口&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;Ex_Api_Downlink_cache_Init&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;enum&lt;/span&gt; ExDeviceNum &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;devicenum&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;rc_cache&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;rc_cache_len&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt; (&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;send_data_func)(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;data, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint32_t&lt;/span&gt; len));&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-3155" y="245" width="1250" height="180" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-222" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; ///////////////////////////////////初始化必须要调用的接口//////////////////////////////////////////&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; 初始化自身信息&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {Ex_Api_t} *Ex_ApiConfig 详情参考街头体解析&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint18_t} *self_send_cache发送缓冲区地址&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint16_t } &amp;nbsp;self_send_cache_len 缓冲区长度&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;Ex_ApiConfig_Init&lt;/span&gt;(&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Ex_Api_t&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Ex_ApiConfig&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;self_send_cache&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;self_send_cache_len&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2840" y="-130" width="850" height="180" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-223" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=1;exitY=0.531;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.012;entryY=0.31;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-222" target="KKNS8De5CxTKTrktDygs-328">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1840" y="-15" as="sourcePoint" />
            <mxPoint x="-1649.0400000000004" y="151.03999999999996" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-224" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=0.999;exitY=0.45;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-218">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1760" y="200" as="sourcePoint" />
            <mxPoint x="-1720" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-225" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=1;exitY=0.429;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.007;entryY=0.77;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-221" target="KKNS8De5CxTKTrktDygs-324">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1770" y="320" as="sourcePoint" />
            <mxPoint x="-1714" y="255" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-226" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=0;entryY=0.286;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.999;exitY=0.545;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-222" target="KKNS8De5CxTKTrktDygs-326">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1947" y="-30" as="sourcePoint" />
            <mxPoint x="-1650" y="177.27999999999975" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-227" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;发送给其他设备数据组帧缓冲区&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1670" y="85" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-231" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=1.001;exitY=0.495;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-218" target="KKNS8De5CxTKTrktDygs-312">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1810" y="245" as="sourcePoint" />
            <mxPoint x="-1650" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-232" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=0.999;exitY=0.452;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-221">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1740" y="320" as="sourcePoint" />
            <mxPoint x="-1710" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-233" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 提供其他节点订阅的cmd&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint16_t} cmd&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {enum ExMsgChecksumEnum} checksum 校验方式，具体参考该枚举的注释&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {Ex_Api_CmdRep_t} * 提供订阅数据的函数&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint8_t (*cache)[144]} &amp;nbsp;存储该cmd的订阅者、订阅参数等相关信息的缓存区&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* demo :&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;static uint8_t func_cach[144];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;Ex_Api_add_cmd_func(0x09, 0, my_func , &amp;amp;func_cach);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_add_cmd_func&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;cmd&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;enum&lt;/span&gt; ExMsgChecksumEnum &lt;span style=&quot;color: #9cdcfe;&quot;&gt;checksum&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; (&lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;function)(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Ex_Api_CmdRep_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;), &lt;span style=&quot;color: #569cd6;&quot;&gt;uint8_t&lt;/span&gt; (&lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;cache)[&lt;span style=&quot;color: #b5cea8;&quot;&gt;144&lt;/span&gt;]);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2960" y="460" width="1070" height="280" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-234" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=-0.003;entryY=0.655;entryDx=0;entryDy=0;exitX=0.999;exitY=0.214;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-233" target="KKNS8De5CxTKTrktDygs-314">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1830" y="500" as="sourcePoint" />
            <mxPoint x="-1650" y="278.7199999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-238" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;子设备库运行状态&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1610" y="425" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-239" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t up_pack_count;&amp;nbsp; &amp;nbsp; &amp;nbsp;// 来自上层节点总收包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t down_pack_count;&amp;nbsp; &amp;nbsp; &amp;nbsp;// 来自下层节点总收包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t up_crc_error_pack_count; // crc校验错误包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t down_crc_error_pack_count; // crc校验错误包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t up_incomple_pack_count;&amp;nbsp; // 不完整包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t down_incomple_pack_count;&amp;nbsp; // 不完整包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t up_error_lengt_count;&amp;nbsp; &amp;nbsp; // 错误长度包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t down_error_lengt_count;&amp;nbsp; &amp;nbsp; // 错误长度包数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t heart_loop_error_count; // 心跳循环时间未达到错误次数&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t cmd_loop_error_count;&amp;nbsp; // cmd循环时间未达到错误次数&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; } SDK_sub_state_info_t;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" y="485" width="390" height="200" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-240" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=-0.007;entryY=0.51;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-318" target="KKNS8De5CxTKTrktDygs-239">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1330" y="367.03999999999996" as="sourcePoint" />
            <mxPoint x="-1070" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-241" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; 必须持续调用并传入系统时间戳，维持节点心跳以及自身订阅功能的时基&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {uint32_t} systemtime 系统时间戳&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;SDK_sub_loop&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;uint32_t&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;systemtime&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2810" y="770" width="690" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-243" value="&lt;span style=&quot;text-wrap-mode: wrap;&quot;&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;cmd&amp;amp;functioncallback列表&lt;/font&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1640" y="285" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-244" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /****************************给其他节点推送数据接口******************************/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 往其他子设备发送数据&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint32_t} moduleid 子设备的通讯id&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint16_t} cmd 该数据的cmd&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint8_t} *data 数据&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint16_t} data_len 数据长度&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_publish_node_data&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint32_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;moduleid&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;cmd&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;data&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;data_len&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #6a9955;&quot;&gt;// 其他节点主动推送给自己的数据，将来到这个接口&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; __weak &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_From_Uplink_Data&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;cmd&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;data&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;len&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /********************************* end ******************************************/&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2710" y="1690" width="800" height="260" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-246" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /*****************************订阅接口************************************/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 订阅或者查询对方的cmd,只能订阅或者查询另外一个分支或下属节点的cmd&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {Ex_OptNodeCmd_Req} request&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;int&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_operate_node_cmd&lt;/span&gt;(Ex_OptNodeCmd_Req &lt;span style=&quot;color: #9cdcfe;&quot;&gt;request&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #6a9955;&quot;&gt;// 订阅其他节点时，被订阅结果会来着这个回调接口&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; __weak &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_SubDownNode_REP&lt;/span&gt;(Ex_OptNodeCmd_Rep &lt;span style=&quot;color: #9cdcfe;&quot;&gt;sub_respone&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #6a9955;&quot;&gt;// 其他节点订阅自己的cmd带有参数就会来到该弱函数&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; __weak ExSubResultEnum &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_Sub_Respone&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Ex_Api_Requtest_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;request&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #6a9955;&quot;&gt;// 使用订阅接口订阅到的数据&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; __weak &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_subscribe_Data&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint32_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;moduleid&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;cmd&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;data&lt;/span&gt;, &lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;len&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /******************************** end ***********************************/&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2190" y="1300" width="790" height="340" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-247" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /************************** 请求响应接口***********************************/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 请求其他的设备&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {Ex_Api_Request_t} request&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_request_nodes&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Ex_Api_Request_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;request&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 主动响应其他节点&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {Ex_Api_Respone_t} respone&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_response_request&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Ex_Api_Respone_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;respone&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #6a9955;&quot;&gt;// 其他节点请求自己时的回调函数，如果respone_len的长度填0，则不会响应回去给对方&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; __weak &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_request_callback&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Ex_Api_ReqRep_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;req_rep&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #6a9955;&quot;&gt;// 其他节点响应本节点的回调函数&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; __weak &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_respone_callback&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Ex_Api_Respone_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;respone&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /***************************** end ****************************************/&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2860" y="1270" width="670" height="410" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-249" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=0.381;exitY=-0.014;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.007;entryY=0.633;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-246" target="KKNS8De5CxTKTrktDygs-352">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-2060" y="1090" as="sourcePoint" />
            <mxPoint x="-2010" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-92" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="1710" y="1690" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-254" value="&lt;font style=&quot;font-size: 40px;&quot;&gt;通信相关接口&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2320" y="1120" width="310" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-257" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;【可选】&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;strokeWidth=5;" vertex="1" parent="1">
          <mxGeometry x="-3060" y="610" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-258" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;【有下层接入】&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;strokeWidth=5;" vertex="1" parent="1">
          <mxGeometry x="-3190" y="317" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-263" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-261">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="-1580" y="2070" as="sourcePoint" />
            <mxPoint x="-1480" y="2070" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-264" value="" style="edgeStyle=none;orthogonalLoop=1;jettySize=auto;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" edge="1" parent="1" target="KKNS8De5CxTKTrktDygs-261">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="-1580" y="2070" as="sourcePoint" />
            <mxPoint x="-1480" y="2070" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-261" value="&lt;font style=&quot;font-size: 30px;&quot;&gt;注：单片机这边由于资源有限，通信接口都是无队列的同步接口&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2170" y="2050" width="860" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-268" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 获取自身cmd的被订阅情况&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint16_t} cmd&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; Ex_Api_CmdStatu &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_ApiGetCmdStatu&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;cmd&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-510" y="-20" width="420" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-269" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 获取和上层（注册节点）的连接状态&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;enum&lt;/span&gt; ExModelStatusEnum &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_Get_Uplink_Statu&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-480" y="730" width="460" height="110" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-332" value="&lt;span style=&quot;font-size: 40px;&quot;&gt;初始化流程&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2575" y="-230" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-333" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 获取所有下属节点的列表，使用指针Ex_Get_Node_t*读取&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint8_t} *cache&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 节点数量&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;int&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_Get_NodeList&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint8_t&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;cache&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 查询单个节点状态，若该节点不在线则状态为离线，其他参数为0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint32_t} moduleid&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Ex_Get_Node_t&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_Get_node&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint32_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;moduleid&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-520" y="285" width="640" height="260" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-334" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=-0.005;entryY=0.558;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.009;exitY=0.45;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-211" target="KKNS8De5CxTKTrktDygs-333">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-740" y="320" as="sourcePoint" />
            <mxPoint x="-800" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-335" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=-0.005;entryY=0.489;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-214" target="KKNS8De5CxTKTrktDygs-268">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-540" y="350" as="sourcePoint" />
            <mxPoint x="-490" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-336" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; enum ExModelStatusEnum&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExModeStatu_Normal = 0,&amp;nbsp; // 0：normal标准状态/工作状态&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExModeStatu_Sleep = 1,&amp;nbsp; &amp;nbsp;// 1：sleep休眠状态&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExModeStatu_Silence = 2, // 2：silence静默状态&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExModeStatu_Offline = 3, // 3：离线状态&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; };&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1190" y="720" width="360" height="110" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-337" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=0.011;entryY=0.417;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.996;exitY=0.632;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-320" target="KKNS8De5CxTKTrktDygs-336">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-850" y="770" as="sourcePoint" />
            <mxPoint x="-800" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-338" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;节点自身状态&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1585" y="490" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-339" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; 触发自身调用Ex_Api_add_cmd_func绑定的cmd对应functioncallback,只有在正常模式下触发才有效&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {uint16_t} cmd&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; {*}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Ex_Api_active_local_cmd&lt;/span&gt;(&lt;span style=&quot;color: #569cd6;&quot;&gt;uint16_t&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;cmd&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-510" y="115" width="870" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-340" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=0.003;entryY=0.498;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.996;exitY=0.677;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-214" target="KKNS8De5CxTKTrktDygs-339">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-660" y="480" as="sourcePoint" />
            <mxPoint x="-610" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-341" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=-0.007;entryY=0.516;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.007;exitY=0.594;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-336" target="KKNS8De5CxTKTrktDygs-269">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-880" y="800" as="sourcePoint" />
            <mxPoint x="-830" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-344" value="&lt;font style=&quot;font-size: 40px;&quot;&gt;其他业务功能相关接口&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-540" y="-310" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-345" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; /**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@descripttion:&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; 获取子设备库处理包情况，用于调试&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; {SDK_sub_state_info_t} info&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@return&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; 0 成功 -1 失败&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;int&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;SDK_get_pack_info&lt;/span&gt;(&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;SDK_sub_state_info_t&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;info&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-480" y="584" width="440" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-346" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=0.005;entryY=0.555;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.625;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-239" target="KKNS8De5CxTKTrktDygs-345">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-340" y="710" as="sourcePoint" />
            <mxPoint x="-290" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-351" value="&lt;span style=&quot;font-size: 18px; text-wrap-mode: wrap;&quot;&gt;cmd&amp;amp;function被其他节点订阅的模式&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1685" y="560" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-352" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; enum ExMsgModeEnum&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExMsgMode_None = 0,&amp;nbsp; &amp;nbsp; &amp;nbsp; // 初始模式，该模式下只允许发送心跳&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExMsgMode_Count = 1,&amp;nbsp; &amp;nbsp; &amp;nbsp;// 1：计数模式&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExMsgMode_Frequency = 2, // 2：频率模式，单位hz&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ExMsgMode_Active = 3,&amp;nbsp; &amp;nbsp; // 3: 设备响应模式&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; };&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" y="850" width="400" height="110" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-353" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;entryX=0.003;entryY=0.503;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.006;exitY=0.893;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-349" target="KKNS8De5CxTKTrktDygs-352">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1480" y="950" as="sourcePoint" />
            <mxPoint x="-1430" y="900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-354" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;exitX=0.37;exitY=0.012;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.873;entryY=0.988;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="KKNS8De5CxTKTrktDygs-246" target="KKNS8De5CxTKTrktDygs-233">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1450" y="1230" as="sourcePoint" />
            <mxPoint x="-1400" y="1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-355" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;其他节点注册了调用绑定了cmd&amp;amp;functioncallback之后&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-2190" y="1033" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-356" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;注：&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;1、频率模式：只填频率即可，订阅成功后，设备会按照该频率主动调用functioncallback&lt;br&gt;2、计数模式：需要填频率跟次数，订阅成功后，会按照订阅的频率去触发functioncallback订阅时设置的次数&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;3、设备响应模式：订阅该模式后，需要设备主动调用Ex_Api_active_local_cmd（uint16_t cmd)才会触发&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;functioncallback，掉用一次触发一次&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=12;fontColor=default;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="-1650" y="1010" width="1270" height="110" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-366" value="" style="group;labelBackgroundColor=none;textShadow=0;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="680" y="1694" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-367" value="" style="group;labelBackgroundColor=light-dark(#ffffff, #ededed);" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-366">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-368" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-367">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-369" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-367">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-370" value="" style="group;labelBackgroundColor=none;textShadow=0;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1950" y="700" width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-371" value="" style="group;labelBackgroundColor=light-dark(#ffffff, #ededed);" vertex="1" connectable="0" parent="KKNS8De5CxTKTrktDygs-370">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-372" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; typedef struct&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t Master_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 上层节点的识别码&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t MY_ID;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 自身识别码&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HardwareVersion; // 硬件版本号&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t SoftwareVersion; // 软件版本号&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t HandShakeTime;&amp;nbsp; &amp;nbsp;// 握手时间间隔&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint32_t DisconnectTime;&amp;nbsp; // 离线时间&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; } Ex_Api_t;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;align=left;verticalAlign=middle;fontFamily=Helvetica;fontSize=12;fontColor=default;fillColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-371">
          <mxGeometry width="270" height="270" as="geometry" />
        </mxCell>
        <mxCell id="KKNS8De5CxTKTrktDygs-373" value="&lt;font style=&quot;font-size: 17px;&quot;&gt;节点&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="KKNS8De5CxTKTrktDygs-371">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
